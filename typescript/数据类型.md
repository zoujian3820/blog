# typescript基础类型

**typescript**微软出品，javascript的超集

[TOC]
### number类型

``` typescript
let num: number = 123
num = 'sss' // error
```

### string类型

``` typescript
let str: string = 'str'
str = 22 // error
```

### 枚举类型

``` typescript
// 默认值如下：
enum Color {
    Red, // default 0
    Blue, // default 1
    Yellow // default 2
}
// 也可自己设定值：
enum Color {
    Red = 1,
    Blue = 3,
    Yellow = 25
}
let c:number = Color.Red
let c:string = Color[1]

// 转成js
var Color;
(function(){
    Color[Color['Red'] = 1] = 'Red';
    Color[Color['Blue'] = 3] = 'Blue';
    Color[Color['Yellow'] = 25] = 'Yellow';
})(Color || (Color = {}))

```

### 数组类型

``` typescript
let ary1: number[] = [1, 2, 3]
// 数组泛型写法
let ary2: Array<string> = ['a', 'str', 'c']
```

### 元组类型

``` typescript
let ary: [string, number]
ary = ['str', 123]
ary = [123, 'str'] // error 规定的顺序错了
ary = [true, 123] // error 因为元组严格按照规定的数据类型来设值，以上为string | number两种，也就是联合类型
ary[0] // str
ary[0].substr(0, 1) // s
ary[1].substr(0, 1) // error 数字没有substr方法
ary[2] // 元组中没有第2个元素，ts版本3.1及以上越界会报错
```

### any类型

>就是不确定数据的类型时可以使用，
它可以为任意数据类型

``` typescript
let notSure: any = 4
    noSure = 'ha ha ha'
    noSure = true

let list: any[] = [123, 'str', false]
```

### void类型

``` typescript
function warn(): void {
    console.log('this is void')
}
let unusable: void
unusable = false // error 因为void只能赋值 null | undefined
unusable = null
unusable = undefined
```

### nerver类型

>没有返回值的类型, 不能返回不能结束

``` typescript
// 第一种情况
function error(msg: string): nerver {
    throw new Error(msg)
}
function fail() {
    return error('ha ha')
}
// 第二种情况
function inifiniteLoop(): never {
    while (true) {

    }
}
```

### object类型

``` typescript

```

### declare声明关键字
>当使用第三方的库时，我们就需要引用它的声明文件
``` typescript
declare let jQuery: (selector: string) => any;
jQuery('.content')

declare function create(o: object | null): void;

create({prop: 123})
create(null)
create(123) // error
create(false) // error
create(undefined) // error

```

### 类型推断

``` typescript
let someVal: any = 'straa'
someVal.length
/*
undefined 无length属性，因为any类型，也就是可能是任何类型，不做类型推断
可借用类型断言，强制为string类型
*/
let str: number = (<string>someVal).length // 5
let str2: number = (someVal as string).length // 5


let str = 'ha ha'
str = 233 // error 类型推断为string，不可设number
```

### 类型断言

``` typescript
let someVal: any = 'straa'
someVal.length
/*
undefined 无length属性，因为any类型，也就是可能是任何类型，不做类型推断
可借用类型断言，强制为string类型
以下为类型断言两种写法：
*/
let str: number = (<string>someVal).length // 5
let str2: number = (someVal as string).length // 5
```

### 接口

``` typescript
interface Person {
    age: number; // 默认属性，必须添加, 且值为number
    name?: string; // 可选属性，可不添加
    readonly sex: string; // 只读属性，不可修改, 必须添加
    [propName: string]: any; // 任意属性，可添加任意属性 string | number，任意值
}
let p: Person = {age: 2, sex: 'F', xxddd: false}
p.sex = 'M' // error
p.age = '' // error
p.bbbbbbbbbb = {}

let a:Person = {name: 'dd'} // error 少了age 和 sex
```

### 重载

``` typescript
function reverse (a: number): number;
function reverse (a: string): string;
function reverse(a: number | string) {
    if (typeof a === 'number') {
        return Number(a.toString().split('').reverse().join(''));
    } else if (typeof a === 'string') {
        return a.split('').reverse().join('');
    }
}
```