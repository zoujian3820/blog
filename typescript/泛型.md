<!-- START doctoc generated TOC please keep comment here to allow auto update -->
<!-- DON'T EDIT THIS SECTION, INSTEAD RE-RUN doctoc TO UPDATE -->
**Table of Contents**  *generated with [DocToc](https://github.com/thlorenz/doctoc)*

- [泛型](#%E6%B3%9B%E5%9E%8B)
  - [单个泛型参数的函数](#%E5%8D%95%E4%B8%AA%E6%B3%9B%E5%9E%8B%E5%8F%82%E6%95%B0%E7%9A%84%E5%87%BD%E6%95%B0)
  - [多个泛型参数的函数](#%E5%A4%9A%E4%B8%AA%E6%B3%9B%E5%9E%8B%E5%8F%82%E6%95%B0%E7%9A%84%E5%87%BD%E6%95%B0)
  - [泛型接口](#%E6%B3%9B%E5%9E%8B%E6%8E%A5%E5%8F%A3)

<!-- END doctoc generated TOC please keep comment here to allow auto update -->

<!--
 * @Author: mrzou
 * @Date: 2021-05-21 17:00:37
 * @LastEditors: mrzou
 * @LastEditTime: 2021-05-21 17:40:54
 * @Description: file content
-->
### 泛型
在定义函数、接口、类的时候不能预先确定要使用的数据的类型,而是在使用函数、接口、类的时候才能确定数据的类型
开启方式 <T> 加个大 T 代表参数类型

#### 单个泛型参数的函数
```ts
  // 写个大 T 是指type的意思，规范如此，写个 A B C...啥的也可以用，但不规范
  function getArr4<T>(value: T, count: number): T[] {
    // 根据数据和数量产生一个数组
    // const arr: T[] = []
    const arr: Array<T> = []
    for (let i = 0; i < count; i++) {
      arr.push(value)
    }
    return arr
  }
  const arr1 = getArr4<number>(200.12345, 5)
  const arr2 = getArr4<string>('abcdefg', 5)
  console.log(arr1)
  console.log(arr2)
  console.log(arr1[0].toFixed(3))
  console.log(arr2[0].split(''))
```

#### 多个泛型参数的函数
```ts
// 多个泛型参数的函数:函数中有多个泛型的参数
function getMsg<K, V>(value1: K, value2: V): [K, V] {
  return [value1, value2]
}

const arr1 = getMsg<string,number>('jack',100.2345)
console.log(arr1[0].split(''))
console.log(arr1[1].toFixed(1))
```

#### 泛型接口
在定义接口时, 为接口中的属性或方法定义泛型类型,在使用接口时, 再指定具体的泛型类型
使用 implements  调用
```ts
// 需求:定义一个类,用来存储用户的相关信息(id,名字,年龄)
// 通过一个类的实例对象调用add方法可以添加多个用户信息对象,调用getUserId方法可以根据id获取某个指定的用户信息对象

// 定义一个泛型接口
interface IBaseCRUD<T> {
  data: Array<T>
  add: (t: T) => T
  getUserId: (id: number) => T
}

// 定义一个用户信息的类
class User {
  id?: number // 用户的id  ? 代表该属性可有可无
  name: string // 用户的姓名
  age: number // 用户的年龄
  // 构造函数
  constructor(name: string, age: number) {
    this.name = name
    this.age = age
  }
}
// 定义一个类,可以针对用户的信息对象进行增加及查询的操作
// CRUD---->create,Read,Update,Delete
// implements 调用 IBaseCRUD 泛型接口
class UserCRUD implements IBaseCRUD<User> {
  // 用来保存多个User类型的用户信息对象
  data: Array<User> = []
  //方法用来存储用户信息对象的
  add(user: User): User {
    // 产生id
    user.id = Date.now() + Math.random()
    // 把用户信息对象添加到data数组中
    this.data.push(user)
    return user
  }
  // 方法根据id查询指定的用户信息对象
  getUserId(id: number): User {
    return this.data.find(user => user.id === id)
  }
}

// 实例化添加用户信息对象的类UserCRUD
const userCRUD: UserCRUD = new UserCRUD()
// 调用添加数据的方法
userCRUD.add(new User('jack', 20))
userCRUD.add(new User('tom', 25))
const { id } = userCRUD.add(new User('lucy', 23))
userCRUD.add(new User('rousi', 21))
console.log(userCRUD.data)
// 根据id查询用户信息对象数据
const user = userCRUD.getUserId(id)
console.log(user)
```
